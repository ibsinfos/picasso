jQuery(document).ready(function(a){function e(a){jQuery("#bpqa-popup-message-holder p").html(bpqaArgs.labels.form.loading);jQuery("#bpqa-popup-ajax-loader").fadeToggle();jQuery.ajax({type:"post",data:{action:"bpqa_submit_form",formValues:a.serialize()},url:bpqaArgs.ajaxUrl,success:function(a){jQuery("#bpqa-popup-message-holder p").html(bpqaArgs.labels.form.updated_message);setTimeout(function(){jQuery(".bpqa-textarea").val("");jQuery(".bpqa-whats-new-post-in").val("");jQuery("#bpqa-popup-ajax-loader").fadeToggle("slow");
jQuery(".bpqa-popup-template-holder").is(":visible")&&jQuery(".bpqa-popup-template-holder").fadeToggle("slow")},1500)}});return!1}a(document).on("focus",".bpqa-input",function(){a(this).removeClass("bpqa-warning")});a(document).on("change",".bpqa-form-select",function(){a(this).removeClass("bpqa-warning")});a(document).on("click",".bpqa-submit, .bpqa-cancel",function(b){b.preventDefault();b=a(this).closest("form");var c=b.find(".bpqa-textarea"),d=b.find(".bpqa-whats-new-post-in");a(this).hasClass("bpqa-cancel")?
(c.val(""),d.val(""),a(".bpqa-popup-template-holder").is(":visible")&&a(".bpqa-popup-template-holder").fadeToggle()):c.val()&&""!=d.val()?bpqaArgs.ajaxSubmit?e(b):b.submit():(c.val()||c.addClass("bpqa-warning"),""==d.val()&&d.addClass("bpqa-warning"))});var c=bpqaArgs.form.max_characters;a(document).on("keyup",".bpqa-textarea",function(){if(void 0!=c&&""!=c){var b=a(this).val().length;a(this).val(a(this).val().substring(0,c));b=a(this).val().length;remain=c-parseInt(b);a(this).closest("form").find(".bpqa-characters-count span").text(remain)}});
jQuery.fn.mentions&&jQuery(".bpqa-textarea").mentions({resultsbox:".bpqa-suggested-results",resultsbox_position:"prepend"});a(document).on("click",".bpqa-form-trigger",function(b){b.preventDefault();a(".bpqa-popup-template-holder").is(":hidden")&&a(".bpqa-popup-template-holder").fadeToggle()})});